element => {
  const getDomPath = (el) => {
    const path = [];
    let current = el;
    while (current && current.tagName) {
      const nodeInfo = {
        tagName: current.tagName.toLowerCase(),
        id: current.id || null,
        classes: Array.from(current.classList),
        text: current.childNodes.length === 1 && current.childNodes[0].nodeType === 3 ? current.textContent.trim() : null,
        isCurrent: current === el
      };
      path.unshift(nodeInfo);
      if (current.tagName.toLowerCase() === 'body') break;
      current = current.parentElement;
    }
    return path;
  };
  
  return {
    tagName: element.tagName.toLowerCase(),
    domPath: getDomPath(element)
  };
}
